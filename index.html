<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prime Line Board</title>
    <!-- Link your CSS files here -->
    <!-- Make sure you include the CSS for the sidebar layout and Remix Icons -->
    <!-- Example (replace with your actual paths): -->
    <link rel="stylesheet" href="path/to/your/sidebar-styles.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        /* Basic styles for the logo */
        #page-logo {
            width: 95px; /* Adjusted width based on "50% menos Grande" (50% of 190) */
            height: auto; /* Allow height to adjust automatically to maintain aspect ratio */
            margin-bottom: 20px; /* Space below the logo */
            display: block; /* Ensure it's on its own line */
            /* Ensure left alignment for the logo */
            margin-left: 0; /* Explicitly align left */
            margin-right: auto; /* Push it to the left */
        }

        /* Style for the main content area to remove left padding */
        main.content {
             /* Remove default left padding from the content container, ensuring content starts further left */
            padding-left: 10px !important; /* Added a small left padding for readability */
            padding-right: 20px; /* Keep or adjust right padding */
            padding-top: 10px; /* Keep or adjust top padding */
            padding-bottom: 20px; /* Keep or adjust bottom padding */
             /* box-sizing: border-box; /* Ensure padding is included in total width if needed */
        }

        /* Add styles for active menu item if you want */
         .sidebar-content .menu a.active {
             background-color: rgba(255, 255, 255, 0.1); /* Example highlight */
             color: #fff;
         }

         /* Optional: Style for the copy button feedback */
         #copy-link-button {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
         }

          /* Basic styles for the Issuu embed wrapper for responsiveness */
          .issuu-embed-container {
            position: relative;
            padding-bottom: 70%; /* This creates a 70% aspect ratio (height is 70% of width) */
            height: 0;
            overflow: hidden;
            max-width: 100%;
            margin-bottom: 20px; /* Space below the embed */
            margin-left: 0; /* Ensure left alignment */
            margin-right: 0;
          }

          .issuu-embed-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          }

           /* Style for the share link container */
          .share-link-container {
            margin-top: 20px;
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            display: flex;
            align-items: center;
            flex-wrap: wrap; /* Allows wrapping on small screens */
            margin-left: 0; /* Ensure left alignment */
            margin-right: 0;
          }

          .share-link-container span {
            margin-right: 10px;
            font-weight: bold;
          }

          .share-link-container a {
            flex-grow: 1;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
            margin-right: 10px;
            color: #007bff; /* Bootstrap primary blue */
            text-decoration: underline;
             /* Reset font size/weight from menu styles if necessary */
            font-size: initial;
            font-weight: initial;
          }

         /*
         Styles for iframe containers and blocked messages (kept for other pages using iframes)
         */
         .embedded-content-container {
             margin-top: 20px; /* Space above iframe */
             margin-bottom: 20px; /* Space below iframe */
             width: 100%; /* Take full width */
             height: 80vh; /* Example height */
             border: 1px solid #ccc; /* Optional border */
             overflow: hidden;
             margin-left: 0;
             margin-right: 0;
             box-sizing: border-box;
          }

           .embedded-content-container iframe {
            width: 100%;
            height: 100%;
            border: none;
          }

          .iframe-blocked-message {
              background-color: #fff3cd;
              border: 1px solid #ffecb5;
              color: #856404;
              padding: 15px;
              margin-bottom: 20px; /* Space below message */
              border-radius: 4px;
              text-align: left;
              margin-left: 0;
              margin-right: 0;
              width: 100%;
              box-sizing: border-box;
          }


          /* Style for the dynamic content area - Default is block, flex is set for specials list */
          #dynamic-content {
              text-align: left; /* Ensure text and inline elements align left */
              padding: 0; /* Remove any default padding */
              margin: 0; /* Remove any default margin */
              width: 100%; /* Take full available width */
              box-sizing: border-box; /* Standard box model */
              display: block; /* Default layout is block */
          }

           /* Ensure the direct wrapper div for page content doesn't introduce centering or padding */
           #dynamic-content > div {
               text-align: left; /* Ensure children align left */
               margin: 0; /* Remove any potential auto or explicit margins */
               padding: 0; /* Remove any potential padding */
               width: 100%; /* Ensure it takes available width within dynamic-content */
               box-sizing: border-box; /* Standard box model */
           }

           /* Style for the extracted Mailchimp list (used only when specials-archive-list is loaded) */
           #archive-list {
                display: block;
                margin-top: 20px; /* Space below h2 title */
                margin-bottom: 30px; /* Space below the list */
                padding: 0; /* Remove default padding */
                border-top: 1px solid #eee; /* Keep the top border */
                list-style: none; /* Remove list bullets */
                text-align: left; /* Ensure list items align left */
           }

           #archive-list li.campaign {
               display: block;
               list-style: none; /* Ensure no list bullets */
               margin: 0; /* Remove default margins */
               padding: 6px 0; /* Adjusted padding - Removed 10px right/left */
               border-bottom: 1px solid #eee; /* Keep the bottom border */
           }

           #archive-list li.campaign a {
               /* Reset link styles from sidebar if necessary */
               color: #336699; /* Keep original Mailchimp link color */
               text-decoration: underline; /* Keep original Mailchimp link underline */
               font-weight: normal; /* Ensure font weight is normal */
               font-size: 14px; /* Match Mailchimp list item font size */
           }

            /* Style for the 'Email Campaign Archive' h2 title */
            #dynamic-content h2 {
                 margin-top: 0; /* Remove default top margin */
                 margin-bottom: 0; /* Remove default bottom margin */
            }

           /* Reduce margin-top for the first element inside dynamic content's wrapper div */
           #dynamic-content > div > :first-child {
               margin-top: 0; /* Ensure the very first element has no top margin */
           }

           /* REMOVED: Styles for two-column layout as we are reverting to single column for specials */
           /*
           .archive-list-container { ... }
           .campaign-view-area { ... }
           */

           /* Style for the message shown after clicking a specials list item */
           .specials-popup-message {
               margin-top: 10px; /* Space above the message */
               font-size: 14px;
               color: #555;
           }


    </style>
</head>
<body>

<div class="layout has-sidebar fixed-sidebar fixed-header">
  <!-- Start Sidebar -->
  <aside id="sidebar" class="sidebar break-point-sm has-bg-image">
    <a id="btn-collapse" class="sidebar-collapser"><i class="ri-arrow-left-s-line"></i></a>
    <div class="image-wrapper">
      <img src="assets/images/sidebar-bg.jpg" alt="sidebar background" />
    </div>
    <div class="sidebar-layout">
      <!-- Start Sidebar Header -->
      <div class="sidebar-header">
        <div class="pro-sidebar-logo">
          <div>P</div>
          <h5>PRIME LINE</h5>
        </div>
      </div>
      <!-- End Sidebar Header -->

      <!-- Start Sidebar Content -->
      <div class="sidebar-content">
        <nav class="menu open-current-submenu">
          <ul>
            <!-- Start Menu Header -->
            <li class="menu-header"><span> MASTERLINK
             </span></li>
            <!-- End Menu Header -->

            <!-- Start CATALOG WEB Menu Item -->
            <li class="menu-item">
              <!-- Changed data-page to 'catalog-web-link' -->
              <!-- Removed target="_blank" and href from sidebar link so JS handles it -->
              <a href="#" data-page="catalog-web-link">
                <span class="menu-icon">
                  <i class="ri-book-fill"></i>
                </span>
                <span class="menu-title">CATALOG WEB</span>
              </a>
            </li>
            <!-- End CATALOG WEB Menu Item -->

            <!-- Start CATALOG FLIPPING BOOK Menu Item -->
            <li class="menu-item">
              <a href="#" data-page="flipping-book"> <!-- Added data-page attribute -->
                <span class="menu-icon">
                  <i class="ri-book-open-line"></i>
                </span>
                <span class="menu-title">CATALOG FLIPPING BOOK</span>
              </a>
            </li>
            <!-- End CATALOG FLIPPING BOOK Menu Item -->

            <!-- Start Prime Line Coffee WEB Menu Item -->
            <li class="menu-item sub-menu">
              <a href="#" data-page="coffee-web"> <!-- Added data-page attribute -->
                <span class="menu-icon"><i class="ri-cup-fill"></i></i></span>
                <span class="menu-title">Prime Line Coffee WEB</span>
              </a>
              <div class="sub-menu-list">
                <ul>
                  <li class="menu-item"><a href="#" data-page="coffee-web-web"> <span class="menu-title">Web</span></a></li> <!-- Added data-page attribute -->
                  <li class="menu-item"><a href="#" data-page="coffee-web-form"> <span class="menu-title">Form</span></a></li> <!-- Added data-page attribute -->
                </ul>
              </div>
            </li>
            <!-- End Prime Line Coffee WEB Menu Item -->

            <!-- Removed Separator -->

            <!-- Start ENTREE Menu Item -->
            <li class="menu-item">
              <a href="#" data-page="entree"> <!-- Added data-page attribute -->
                <span class="menu-icon"><i class="ri-global-fill"></i></span>
                <span class="menu-title">ENTREE</span>
              </a>
            </li>
            <!-- End ENTREE Menu Item -->

            <!-- Start FLYERS Menu Item -->
            <li class="menu-item">
              <a href="#" data-page="flyers"> <!-- Added data-page attribute -->
                <span class="menu-icon"><i class="ri-calendar-2-line"></i></span>
                <span class="menu-title">FLYERS</span>
              </a>
            </li>
            <!-- End FLYERS Menu Item -->

            <!-- Start SPECIALS OF THE WEEK Menu Item (now a sub-menu) -->
            <li class="menu-item sub-menu"> <!-- Changed to sub-menu -->
              <!-- This parent link triggers the archive list view -->
              <a href="#" data-page="specials-archive-list">
                <span class="menu-icon"><i class="ri-calendar-2-line"></i></span>
                <span class="menu-title">SPECIALS OF THE WEEK</span>
              </a>
               <!-- Submenu links for specials are removed, list is generated dynamically -->
               <div class="sub-menu-list" style="display: none;"></div>
            </li>
            <!-- End SPECIALS OF THE WEEK Menu Item -->


            <!-- Start Menu Header -->
            <li class="menu-header" style="padding-top: 20px"><span> EXTRA </span></li>
            <!-- End Menu Header -->

            <!-- Start Download Menu Item -->
             <li class="menu-item">
              <a href="#" data-page="download"> <!-- Added data-page attribute -->
                <span class="menu-icon"><i class="ri-download-fill"></i></span>
                <span class="menu-title">Download</span>
              </a>
            </li>
            <!-- End Download Menu Item -->

          </ul>
        </nav>
      </div>
      <!-- End Sidebar Content -->
      <!-- Removed sidebar-footer -->
    </div>
  </aside>
  <!-- End Sidebar -->

  <!-- Start Sidebar Overlay -->
  <div id="overlay" class="overlay"></div>
  <!-- End Sidebar Overlay -->

  <!-- Start Main Content Layout Container -->
  <div class="layout">
    <!-- Start Main Content Area -->
    <main class="content" id="main-content">
      <!-- The toggle button stays here -->
      <a id="btn-toggle" href="#" class="sidebar-toggler break-point-sm">
        <i class="ri-menu-line ri-xl"></i>
      </a>

      <!-- Start Page Logo (Static) -->
      <img src="https://static.wixstatic.com/media/aef350_fb48320d993d43468261e998dbbb7b99~mv2.png/v1/fill/w_302,h_82,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/A-%20Logo%20Prime%20Line%20600%20px%20PNG.png" alt="Prime Line Logo" id="page-logo">
      <!-- End Page Logo -->

      <!-- Container for dynamic content -->
      <div id="dynamic-content">
        <!-- Initial content goes here by default -->
        <!-- The JavaScript will populate this div based on the menu clicked -->
      </div>
      <!-- Removed footer -->
    </main>
    <!-- End Main Content Area -->

    <!-- Start Main Content Overlay -->
    <div class="overlay"></div>
    <!-- End Main Content Overlay -->
  </div>
  <!-- End Main Layout Container -->

<!-- Start JavaScript -->
<script>
    // Get the container where dynamic content will be loaded
    const dynamicContentArea = document.getElementById('dynamic-content');
    // Get the sidebar element (used for event delegation)
    const sidebarContent = document.querySelector('.sidebar-content');

    // Define a fixed name for the pop-up window
    const popupWindowName = 'CampaignPopup';


    // Function to handle the copy link functionality for the flipping book page
    function setupCopyLink() {
        const shareableLink = document.getElementById('shareable-link');
        const copyButton = document.getElementById('copy-link-button');

        // Check if the elements exist in the currently loaded DOM
        if (shareableLink && copyButton) {
            copyButton.addEventListener('click', function() {
                const linkToCopy = shareableLink.href; // Get the full URL from the href attribute

                // Use the modern Clipboard API
                navigator.clipboard.writeText(linkToCopy).then(function() {
                    // Success feedback
                    const originalButtonText = copyButton.textContent;
                    const originalBg = copyButton.style.backgroundColor;
                    const originalColor = copyButton.style.color;
                    const originalBorder = copyButton.style.border;

                    copyButton.textContent = '¡Copiado!';
                    copyButton.style.backgroundColor = '#d4edda'; // Light green
                    copyButton.style.color = '#155724'; // Dark green text
                    copyButton.style.border = '1px solid #c3e6cb'; // Green border


                    // Reset button text and styles after a few seconds
                    setTimeout(function() {
                        copyButton.textContent = originalButtonText;
                        copyButton.style.backgroundColor = originalBg; // Reset styles
                        copyButton.style.color = originalColor;
                        copyButton.style.border = originalBorder;
                    }, 2000); // 2 seconds

                }).catch(function(err) {
                    // Error handling (e.g., if permission denied)
                    console.error('Could not copy text: ', err);
                    alert('Error al copiar el enlace. Por favor, cópialo manualmente.'); // Simple alert for failure
                });
            });
        } else {
            // This console log helps debug if elements aren't found after dynamic load
             // console.warn('Copy elements (shareable-link or copy-link-button) not found in the dynamic content.'); // Keep this commented unless debugging
        }
    }


    // Define content for each page/menu item using functions
    const pageContentMap = {
        // 'catalog-web-link' will handle displaying the message and opening the link in a new tab via JS
         'catalog-web-link': function() {
             const catalogUrl = 'https://primelinedistcat.com/customer/account/login/'; // The requested URL
             // Ensure layout is block for single column
             dynamicContentArea.style.display = 'block';

             return `
                 <div>
                   <h1>CATALOG WEB</h1> <!-- Title for this page -->
                   <div class="iframe-blocked-message">
                       <strong>Nota importante:</strong> El contenido de este catálogo no se puede mostrar directamente aquí debido a restricciones de seguridad. Por favor, haz clic en el siguiente enlace para abrirlo en una nueva pestaña del navegador: <a href="${catalogUrl}" target="_blank">${catalogUrl}</a>
                   </div>
                    <!-- No iframe here -->
                 </div>
             `;
         },

        'flipping-book': function() {
            // The Issuu shareable link provided by the user
            const shareLink = "https://issuu.com/primelinedist/docs/florida_spring_2021_compressed?fr=xPf9KFxE";
            // The Issuu embed URL (derived from the share link or obtained from Issuu's embed options)
            const embedUrl = "https://e.issuu.com/embed.html?u=primelinedist&d=florida_spring_2021_compressed";

            // Ensure layout is block for single column for this view
            dynamicContentArea.style.display = 'block';

            // Return HTML for the flipping book page
            return `
                <div>
                  <!-- Title as requested -->
                  <h1>Prime Line Coffe</h1>
                  <p>Aquí tienes el catálogo Flipping Book. Puedes verlo incrustado o compartir el enlace directo:</p>

                  <!-- Shareable Link and Copy Button -->
                  <div class="share-link-container">
                    <span>Enlace para Compartir:</span>
                    <a href="${shareLink}" id="shareable-link" target="_blank">
                        ${shareLink}
                    </a>
                    <button id="copy-link-button">Copiar</button>
                  </div>

                  <!-- Issuu Embed Iframe -->
                  <!-- Using the responsiveness container class -->
                  <div class="issuu-embed-container">
                       <iframe src="${embedUrl}" frameborder="0" allowfullscreen></iframe>
                  </div>
                </div>
            `;
        },
        // --- Content for SPECIALS OF THE WEEK archive list (triggered by parent menu item) ---
        'specials-archive-list': function() {
             // This page will now show only the list in a single column.
             // The click handler will open pop-ups.

             // ******************************************************************
             // EXTRACTED AND MODIFIED HTML CONTENT FROM THE PROVIDED MAILCHIMP SOURCE
             // - Removed the main h1 "Weekly Special 10348905"
             // - Kept the h2 "Email Campaign Archive"
             // - REMOVED the "from Prime Line Distributors" text
             // - REMOVED the "join our mailing list" button
             // - Kept the ul#archive-list with its content (margins adjusted in CSS)
             // ******************************************************************

             // Ensure layout is block for single column
             dynamicContentArea.style.display = 'block';

             return `
                 <div>
                   <!-- Removed the h1 "Weekly Special 10348905" -->

                   <h2>Email Campaign Archive</h2> <!-- Kept this h2 -->
                   <!-- Removed the div with class "mailchimp-source-text" -->
                   <!-- Removed the a tag with class "formEmailButton" -->

                    <!-- Start Extracted Archive List -->
                    <ul id="archive-list">
                        <div class="display_archive">
                             <li class="campaign">04/22/2025 - <a href="http://eepurl.com/jc8a5-/" title="Specials of the Week April 22th. 2025!">Specials of the Week April 22th. 2025!</a></li>
                            <li class="campaign">04/16/2025 - <a href="http://eepurl.com/jcHQYU" title="Specials of the Week April 16th. 2025!">Specials of the Week April 16th. 2025!</a></li>
                            <li class="campaign">04/08/2025 - <a href="http://eepurl.com/jb52GU" title="Specials of the Week April 8th. 2025!">Specials of the Week April 8th. 2025!</a></li>
                            <li class="campaign">04/02/2025 - <a href="http://eepurl.com/jbDp3s" title="Specials of the Week April 2nd. 2025!">Specials of the Week April 2nd. 2025!</a></li>
                            <li class="campaign">03/26/2025 - <a href="http://eepurl.com/jaZeIo" title="Specials of the Week March 25th. 2025!">Specials of the Week March 25th. 2025!</a></li>
                            <li class="campaign">03/17/2025 - <a href="http://eepurl.com/jakItM" title="New! DOK DALL'AVA Prosciutto di San Daniele DOP">New! DOK DALL'AVA Prosciutto di San Daniele DOP</a></li>
                            <li class="campaign">03/12/2025 - <a href="http://eepurl.com/i_Xlic" title="Specials of the Week March 12th. 2025!">Specials of the Week March 12th. 2025!</a></li>
                            <li class="campaign">03/05/2025 - <a href="http://eepurl.com/i_qVxA" title="Specials of the Week March 5th. 2025! SOTW">Specials of the Week March 5th. 2025! SOTW</a></li>
                            <li class="campaign">02/27/2025 - <a href="http://eepurl.com/i-ZdC6" title="Specials of the Week February 27th. 2025! SOTW">Specials of the Week February 27th. 2025! SOTW</a></li>
                            <li class="campaign">02/26/2025 - <a href="http://eepurl.com/i-Tr0M" title="New! MULINO BIANCO Biscotti from Italy">New! MULINO BIANCO Biscotti from Italy</a></li>
                            <li class="campaign">02/18/2025 - <a href="http://eepurl.com/i-fJBY" title="Specials of the Week February 18th. 2025!">Specials of the Week February 18th. 2025!</a></li>
                            <li class="campaign">02/11/2025 - <a href="http://eepurl.com/i9Jys2" title="Specials of the Week February 11th. 2025!">Specials of the Week February 11th. 2025!</a></li>
                            <li class="campaign">02/04/2025 - <a href="http://eepurl.com/i9bi8E" title="Specials of the Week February 4th. 2025!">Specials of the Week February 4th. 2025!</a></li>
                            <li class="campaign">01/31/2025 - <a href="http://eepurl.com/i8UE2A" title="NEW! Introducing SAL DE RISO Artisan Gelato and Sorbetto from Amalfi, Italy PROMO PRICE">NEW! Introducing SAL DE RISO Artisan Gelato and Sorbetto from Amalfi, Italy PROMO PRICE</a></li>
                            <li class="campaign">01/29/2025 - <a href="http://eepurl.com/i8JmDs" title="New! LEVONI Cured Meats Presliced and Snack Tray">New! LEVONI Cured Meats Presliced and Snack Tray</a></li>
                            <li class="campaign">01/22/2025 - <a href="http://eepurl.com/i8jphQ" title="Specials of the Week January 22th. 2025!">Specials of the Week January 22th. 2025!</a></li>
                            <li class="campaign">01/15/2025 - <a href="http://eepurl.com/i7UtC-/" title="Specials of the Week January 15th. 2025!">Specials of the Week January 15th. 2025!</a></li>
                            <li class="campaign">01/13/2025 - <a href="http://eepurl.com/i7K-a6" title="New! NONNO NANNI Fresh Cheeses from Italy">New! NONNO NANNI Fresh Cheeses from Italy</a></li>
                            <li class="campaign">01/08/2025 - <a href="http://eepurl.com/i7tgZg" title="PRIME LINE at The 2025 Las Vegas Winter Fancy Food Show!">PRIME LINE at The 2025 Las Vegas Winter Fancy Food Show!</a></li>
                            <li class="campaign">01/07/2025 - <a href="http://eepurl.com/i7oYHo" title="Specials of the Week January 7th. 2025!">Specials of the Week January 7th. 2025!</a></li>
                        </div>
                    </ul>
                    <!-- End Extracted Archive List -->

                    <!-- Area for message after clicking a list item -->
                    <div id="specials-message-area">
                       <!-- Message will be added here by JS -->
                    </div>
                 </div>
             `;
        },
        // --- Pages that might use iframes (or were planned to) ---
        'special-report-10349312': function() {
             const campaignUrl = 'https://us14.admin.mailchimp.com/reports/show?id=10349312';
             // Ensure layout is block for single column
             dynamicContentArea.style.display = 'block';
              return `
                 <div>
                   <h1>Reporte Campaña 10349312</h1>
                   <div class="iframe-blocked-message">
                       <strong>Nota sobre la visualización:</strong> Es posible que el contenido de Mailchimp (Reporte) no se muestre directamente aquí debido a restricciones de seguridad del sitio de origen. Si no aparece, por favor, abre el enlace en una nueva pestaña: <a href="${campaignUrl}" target="_blank">${campaignUrl}</a>
                   </div>
                    <div class="embedded-content-container">
                       <iframe src="${campaignUrl}" frameborder="0"></iframe>
                   </div>
                 </div>
             `;
        },
         'special-weekly-10349197': function() {
             const campaignUrl = 'https://us14.campaign-archive.com/feed?u=33b601da645292a14d7ad91fd&id=34f4602c29';
             // Ensure layout is block for single column
             dynamicContentArea.style.display = 'block';
              return `
                 <div>
                   <h1>Weekly Special 10349197</h1> <!-- Kept h1 for this specific item -->
                    <div class="iframe-blocked-message">
                       <strong>Nota sobre la visualización:</strong> Es posible que el contenido de Mailchimp no se muestre directamente aquí debido a restricciones de seguridad del sitio de origen. Si no aparece, por favor, abre el enlace en una nueva pestaña: <a href="${campaignUrl}" target="_blank">${campaignUrl}</a>
                   </div>
                   <div class="embedded-content-container">
                       <iframe src="${campaignUrl}" frameborder="0"></iframe>
                   </div>
                 </div>
             `;
        },
        'special-weekly-10349010': function() {
             const campaignUrl = 'https://mailchi.mp/c3fa6e519c7a/weeklyspecial-10349010';
             // Ensure layout is block for single column
             dynamicContentArea.style.display = 'block';
              return `
                 <div>
                   <h1>Weekly Special 10349010</h1>
                   <div class="iframe-blocked-message">
                       <strong>Nota sobre la visualización:</strong> Es posible que el contenido de Mailchimp no se muestre directamente aquí debido a restricciones de seguridad del sitio de origen. Si no aparece, por favor, abre el enlace en una nueva pestaña: <a href="${campaignUrl}" target="_blank">${campaignUrl}</a>
                   </div>
                   <div class="embedded-content-container">
                       <iframe src="${campaignUrl}" frameborder="0"></iframe>
                   </div>
                 </div>
             `;
        },
         'special-weekly-10348905': function() {
             const campaignUrl = 'https://mailchi.mp/c3fa6e519c7a/weeklyspecial-10348905';
             // Ensure layout is block for single column
             dynamicContentArea.style.display = 'block';
              return `
                 <div>
                   <h1>Weekly Special 10348905</h1>
                   <div class="iframe-blocked-message">
                       <strong>Nota sobre la visualización:</strong> Es posible que el contenido de Mailchimp no se muestre directamente aquí debido a restricciones de seguridad del sitio de origen. Si no aparece, por favor, abre el enlace en una nueva pestaña: <a href="${campaignUrl}" target="_blank">${campaignUrl}</a>
                   </div>
                   <div class="embedded-content-container">
                       <iframe src="${campaignUrl}" frameborder="0"></iframe>
                   </div>
                 </div>
             `;
        },
        'coffee-web': function() {
             // Ensure layout is block for single column
             dynamicContentArea.style.display = 'block';
             return `
                <div>
                  <h1>Prime Line Coffee WEB Overview</h1>
                  <p>Información general sobre la sección de Prime Line Coffee WEB.</p>
                  <p>Haz click en los sub-items para ver detalles específicos.</p>
                </div>
            `;
        },
         'coffee-web-web': function() {
             // Ensure layout is block for single column
             dynamicContentArea.style.display = 'block';
             return `
                <div>
                  <h1>Prime Line Coffee - Web Section</h1>
                  <p>Contenido específico de la parte Web de Prime Line Coffee.</p>
                  <p>Aquí podrías poner un formulario de pedido online o detalles de productos.</p>
                </div>
            `;
        },
         'coffee-web-form': function() {
             // Ensure layout is block for single column
             dynamicContentArea.style.display = 'block';
             return `
                <div>
                  <h1>Prime Line Coffee - Form Section</h1>
                  <p>Contenido específico de la parte de Formularios de Prime Line Coffee.</p>
                  <p>Aquí podrías poner un formulario de contacto o de feedback.</p>
                </div>
            `;
        },
        'entree': function() {
             // Ensure layout is block for single column
             dynamicContentArea.style.display = 'block';
            return `
                <div>
                  <h1>ENTREE</h1>
                  <p>Contenido para la sección ENTREE.</p>
                  <p>Podría ser información sobre acceso o permisos.</p>
                </div>
            `;
        },
        'flyers': function() {
             // Ensure layout is block for single column
             dynamicContentArea.style.display = 'block';
            return `
                <div>
                  <h1>FLYERS</h1>
                  <p>Contenido para la sección FLYERS.</p>
                  <p>Aquí podrías mostrar una galería de flyers o enlaces para descargarlos.</p>
                </div>
            `;
        },
         'download': function() {
             // Ensure layout is block for single column
             dynamicContentArea.style.display = 'block';
            return `
                <div>
                  <h1>Download</h1>
                  <p>Contenido para la sección Download.</p>
                  <p>Enlaces a recursos descargables como PDFs, manuales, etc.</p>
                </div>
            `;
        },
    };

    // Use event delegation on a parent element that is always in the DOM
    // This listener handles clicks on sidebar links with data-page attributes
    sidebarContent.addEventListener('click', function(event) {
        const link = event.target.closest('.menu a[data-page]');

        if (link) {
            event.preventDefault(); // Prevent default navigation
            const pageKey = link.getAttribute('data-page');

            if (pageContentMap[pageKey]) {
                // Load the content defined in the map
                const newContentHTML = pageContentMap[pageKey]();
                dynamicContentArea.innerHTML = newContentHTML;

                // Update active class in sidebar
                document.querySelectorAll('.sidebar-content .menu a').forEach(item => item.classList.remove('active'));
                link.classList.add('active');

                // Perform any necessary post-load setup
                if (pageKey === 'flipping-book') {
                     setTimeout(setupCopyLink, 50);
                }
                // Note: The display style (block or flex) for #dynamic-content
                // is now being set *inside* the pageContentMap functions.

            } else {
                console.warn(`No content defined for page: ${pageKey}`);
                 dynamicContentArea.innerHTML = `
                    <div>
                      <h1>Contenido no encontrado</h1>
                      <p>No se ha definido contenido para este ítem del menú.</p>
                    </div>
                 `;
                 // Ensure layout is block for the error message
                 dynamicContentArea.style.display = 'block';
            }
        }
    });

    // Listener for clicks *within* the dynamically loaded archive list (Specials section)
    dynamicContentArea.addEventListener('click', function(event) {
        // Check if the clicked element is an <a> tag inside an element with id="archive-list"
        // AND if the #archive-list element currently exists in the DOM
        const archiveList = dynamicContentArea.querySelector('#archive-list');
        const archiveLink = event.target.closest('#archive-list a');


        // Only proceed if we are viewing the specials archive list AND an archive link was clicked
        if (archiveList && archiveLink) {
            event.preventDefault(); // Prevent the browser from navigating directly
            const campaignUrl = archiveLink.href; // Get the URL of the campaign

            // Find the message area within the current dynamic content, or append to dynamicContentArea if needed
            let messageArea = dynamicContentArea.querySelector('#specials-message-area');
            if (!messageArea) {
                 // If the message area wasn't part of the initial HTML (e.g., for other pages),
                 // find the main content div and add it there.
                 const mainContentDiv = dynamicContentArea.querySelector('div'); // Assuming the main page content is wrapped in a div
                 if (mainContentDiv) {
                      messageArea = document.createElement('div');
                      messageArea.id = 'specials-message-area';
                       // Optionally add styling class
                       // messageArea.classList.add('specials-popup-message');
                      mainContentDiv.appendChild(messageArea);
                 } else {
                     // Fallback if main content div structure is unexpected
                     messageArea = dynamicContentArea; // Append to the main area
                 }
            }

             if (messageArea) {
                 // Clear the current content of the message area
                 messageArea.innerHTML = '';

                 // Add a message indicating where the content opened
                 const messageParagraph = document.createElement('p');
                 messageParagraph.classList.add('specials-popup-message'); // Use styling class
                 messageParagraph.innerHTML = `
                     <strong>Abriendo campaña:</strong> El contenido se abrirá en una ventana emergente (pop-up). Si no aparece, por favor, revisa tus bloqueadores de pop-ups o haz clic aquí: <a href="${campaignUrl}" target="_blank">${campaignUrl}</a>
                 `;
                 messageArea.appendChild(messageParagraph);
             }


            // Open the link in a pop-up window
            // Use window.open(URL, windowName, windowFeatures)
            // popupWindowName makes sure subsequent clicks reuse the *same* pop-up window.
            // Add more features like 'toolbar=yes', 'location=yes', 'menubar=yes' if needed
            const popupFeatures = 'width=900,height=700,resizable=yes,scrollbars=yes';
            const popupWindow = window.open(campaignUrl, popupWindowName, popupFeatures);

            // Optional: Focus the popup window if it was already open
            if (popupWindow) {
                popupWindow.focus();
            }
        }
        // This listener does nothing if the clicked link is not part of the archive list
    });


    // Optional: Simulate a click on the default page ('catalog-web-link') when the page loads
    const defaultLink = document.querySelector('.sidebar-content .menu a[data-page="catalog-web-link"]');
    if (defaultLink) {
       setTimeout(() => {
           // Simulate a click event on the link
           const clickEvent = new MouseEvent('click', {
               view: window,
               bubbles: true,
               cancelable: true
           });
           defaultLink.dispatchEvent(clickEvent);
       }, 100);
    } else {
        console.warn("Default link with data-page 'catalog-web-link' not found.");
         // If default link is not found, maybe load some generic welcome content?
         dynamicContentArea.innerHTML = '<div><h1>Bienvenido</h1><p>Selecciona un elemento del menú para comenzar.</p></div>';
         dynamicContentArea.style.display = 'block';
    }


    // --- Existing sidebar toggle script ---
     const btnToggle = document.getElementById('btn-toggle');
     const sidebar = document.getElementById('sidebar');
     const overlay = document.getElementById('overlay');

     if(btnToggle && sidebar && overlay){
        btnToggle.addEventListener('click', function(e) {
            e.preventDefault();
            sidebar.classList.toggle('collapsed');
            overlay.classList.toggle('active');
        });
     }
     if(overlay){
         overlay.addEventListener('click', function() {
             sidebar.classList.add('collapsed');
             overlay.classList.remove('active');
         });
     }
    // --- End existing sidebar toggle script ---

</script>
<!-- End JavaScript -->

</body>
</html>
